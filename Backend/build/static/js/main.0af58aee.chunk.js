(this["webpackJsonpheeren-a"]=this["webpackJsonpheeren-a"]||[]).push([[0],{38:function(e,t,a){e.exports=a(62)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},49:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),s=(a(43),a(44),a(35)),i=a(6),c=a(7),d=a(8),u=a(10),p=a(9),m=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"typewriter"},r.a.createElement("h1",{className:"App-header"},"Welcome"))}}]),a}(n.Component),h=a(20),g=(a(45),a(12)),f=a.n(g),y=a(19);function E(){return(E=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/players");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(y.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/players/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(y.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/players/");case 2:return t=e.sent,e.next=5,t.json();case 5:for(a=e.sent,n={},console.log("data: "+JSON.stringify(a)),r=0;r<a.length;r++)n[a[r].player_id]=a[r].nickname;return console.log(n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/daltons");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(y.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,fetch("/api/daltons/"+t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return(r=new Error).info={type:"Error",message:"Could not edit Dalton: "},e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(y.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton in api function: "+JSON.stringify(t)),e.next=3,fetch("/api/daltons",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a;case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:return(r=new Error).info={type:"Error",message:"Could not add Dalton: "+JSON.stringify(t)},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(y.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/daltons/amountDaltonsEarned/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={getPlayers:function(){return E.apply(this,arguments)},getPlayerById:function(e){return v.apply(this,arguments)},getDaltons:function(){return _.apply(this,arguments)},getPlayersIdAndName:function(){return b.apply(this,arguments)},getAmountDaltonsPlayer:function(e){return j.apply(this,arguments)},addDalton:function(e){return D.apply(this,arguments)},getDaltonById:function(e){return k.apply(this,arguments)}},N=a(33),C=a(22),w=a.n(C),x=a(23),S=(a(48),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).DaltonListFactory=function(){var e=n.state.daltons,t=n.state.players,a=e.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,t[e.person_earned_id]?t[e.person_earned_id]:"-"),r.a.createElement("td",null,e.reason),r.a.createElement("td",null,t[e.person_took_id]),r.a.createElement("td",null,e.date_earned?w()(e.date_earned).locale("nl").format("dddd DD MMMM YYYY"):""),r.a.createElement("td",null,e.date_taken?w()(e.date_taken).locale("nl").format("dddd DD MMMM YYYY"):""),r.a.createElement("td",null,r.a.createElement(x.a,{variant:"secondary",id:e.dalton_id,onClick:n.handleClick},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})))))}));return r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Verdiend"),r.a.createElement("th",null,"Reden"),r.a.createElement("th",null,"Genomen door"),r.a.createElement("th",null,"Datum verdient"),r.a.createElement("th",null,"Datum genomen"),r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,a))},n.handleClick=function(e){console.log("handle click",e.target.id),n.props.onSelectDalton(e.target.id)},n.state={daltons:[],players:[],isLoading:!0,error:null},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.getDaltons().then((function(t){e.setState({daltons:t,isLoading:!1})})),O.getPlayersIdAndName().then((function(t){e.setState({players:t,isLoading:!1})}))}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},!0===this.state.isLoading?r.a.createElement("p",null,"no data to display "):r.a.createElement(this.DaltonListFactory,null," ")))}}]),a}(n.Component)),I=(a(49),a(5)),Y=a(17),L=a(27),M=a(34),A=a(24),F=a(37),P={date_earned:"",date_taken:"",reason:"",person_earned_id:"0",person_took_id:"0",dalton_id:null},B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=/^((?:19|20)\d\d)[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])/,t=n.state.daltonData,a=!(t.date_earned.length>0)||e.test(t.date_earned),r=!(t.date_taken.length>0)||e.test(t.date_taken),l=t.reason.length>0&&t.reason.length<255,o=t.person_took_id>0,s=[];r||s.push("date_taken"),a||s.push("date_earned"),l||s.push("reason"),o||s.push("person_took_id"),n.setState({errors:s}),0===s.length&&O.addDalton(n.state.daltonData).then((function(e){e instanceof Error?alert(e.info.message):alert("added Dalton!")}))},n.state={open:!1,daltonData:{},playerData:[],isLoading:!0,errors:[]},n.handleInputChange=n.handleInputChange.bind(Object(h.a)(n)),n.toggleEditor=n.toggleEditor.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=this.state.daltonData;a[t.id]=t.value,this.setState({daltonData:a})}},{key:"isInValid",value:function(e){return-1!==this.state.errors.findIndex((function(t){return t===e}))}},{key:"componentDidMount",value:function(){var e=this;O.getPlayers().then((function(t){e.setState({playerData:t})})),console.log("default dalton : "+JSON.stringify(P)),this.setState({daltonData:P,isLoading:!1})}},{key:"componentDidUpdate",value:function(e){var t=this;console.log("update props: "+this.props.dalton_id);var a=this.props.dalton_id;0!==a&&e.dalton_id!==a&&O.getDaltonById(this.props.dalton_id).then((function(e){var a={};a.date_earned=e[0].date_earned?e[0].date_earned:"",a.date_taken=e[0].date_taken?e[0].date_taken:"",a.reason=e[0].reason?e[0].reason:"",a.person_earned_id=e[0].person_earned_id?e[0].person_earned_id:"0",a.person_took_id=e[0].person_took_id?e[0].person_took_id:"0",t.setState({daltonData:a,isLoading:!1,open:!0})})).catch((function(e){console.log(e.message),t.setState({open:!1})}))}},{key:"toggleEditor",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(e){return r.a.createElement(M.a,null,0===Object.keys(this.state.daltonData).length?r.a.createElement("p",null,"no data to display "):r.a.createElement(A.a,null,r.a.createElement(A.a.Header,{onClick:this.toggleEditor},"Featured"),r.a.createElement(F.a,{in:this.state.open},r.a.createElement(A.a.Body,null,r.a.createElement(I.a,{noValidate:!0},r.a.createElement(L.a,null,r.a.createElement(Y.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,{className:"",htmlFor:"inlineFormCustomSelectPref"},"Moet genomen worden door"),r.a.createElement(I.a.Control,{as:"select",id:"person_took_id",onChange:this.handleInputChange,custom:!0,className:"m-0",isInvalid:this.isInValid("person_took_id"),value:this.state.daltonData.person_took_id},r.a.createElement("option",{value:0},"Choose..."),this.state.playerData.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.nickname)}))),r.a.createElement(I.a.Control.Feedback,{type:"invalid"},"Choose your player"))),r.a.createElement(Y.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Genomen op (als al genomen)"),r.a.createElement(I.a.Control,{value:this.state.daltonData.date_taken,onChange:this.handleInputChange,isInvalid:this.isInValid("date_taken"),id:"date_taken",placeholder:"2020-01-01"}),r.a.createElement(I.a.Control.Feedback,{type:"invalid"},"Date should be of format YYYY-MM-DD"))),r.a.createElement(Y.a,{md:4},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Reason"),r.a.createElement(I.a.Control,{value:this.state.daltonData.reason,onChange:this.handleInputChange,id:"reason",isInvalid:this.isInValid("reason"),as:"textarea",rows:"1"}),r.a.createElement(I.a.Control.Feedback,{type:"invalid"},"Reason should not be empty")))),r.a.createElement(L.a,{className:"justify-content-center align-items-start p-3 "},r.a.createElement(Y.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,{className:"",htmlFor:"inlineFormCustomSelectPref"},"Verdiend door"),r.a.createElement(I.a.Control,{as:"select",id:"person_earned_id",onChange:this.handleInputChange,custom:!0,className:"m-0",isInvalid:this.isInValid("person_earned_id"),value:this.state.daltonData.person_earned_id},r.a.createElement("option",{value:0},"Niemand"),this.state.playerData.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.nickname)}))),r.a.createElement(I.a.Control.Feedback,{type:"invalid"},"Choose your player"))),r.a.createElement(Y.a,null,r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Verdient op"),r.a.createElement(I.a.Control,{value:this.state.daltonData.date_earned,onChange:this.handleInputChange,isInvalid:this.isInValid("date_earned"),id:"date_earned",placeholder:"2020-01-01"}),r.a.createElement(I.a.Control.Feedback,{type:"invalid"},"Date should be of format YYYY-MM-DD"))),r.a.createElement(Y.a,{md:2,className:"my-auto"},r.a.createElement(x.a,{variant:"primary",onClick:this.handleClick},"Add Dalton"))))))))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={dalton_id:0},e.handleDaltonChange=function(t){e.setState({dalton_id:t}),console.log("other dalton: "+t)},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Daltons"),r.a.createElement(B,{dalton_id:this.state.dalton_id}),r.a.createElement(S,{onSelectDalton:this.handleDaltonChange}))}}]),a}(n.Component),G=(a(53),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("ul",{className:"nav justify-content-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active",href:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/team"},"Team")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/daltons"},"Daltons")))}}]),a}(n.Component)),J=(a(54),a(55),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"rating border"},this.props.ratingSinglesEndingYear||6,r.a.createElement("span",{className:"current-rating"},this.props.ratingSingles||"0.0000"," ")),r.a.createElement("div",{className:"rating border"},this.props.ratingDoublesEndingYear||6,r.a.createElement("span",{className:"current-rating justify-content-center"},this.props.ratingDoubles||"0.0000"," ")))}}]),a}(n.Component)),W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"card player"},r.a.createElement("a",{href:"/players/"+this.props.player.id},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{href:"/players/"+this.props.player.id},r.a.createElement("h3",{className:"card-title"},this.props.player.nickname||"Nickname")," "),r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},this.props.player.name||"Name"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(J,{ratingSingles:this.props.player.single_rating,ratingDoubles:this.props.player.doubles_rating,ratingSinglesEndingYear:this.props.player.single_rating_ending_year,ratingDoublesEndingYear:this.props.player.doubles_rating_ending_year})))))}}]),a}(n.Component);a(56);function H(e){return e.players.map((function(e,t){return r.a.createElement(W,{className:"col-6",player:e,key:t})}))}var R=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={playerData:[],isLoading:!0,error:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.getPlayers().then((function(t){e.setState({playerData:t,isLoading:!1})}))}},{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Het Heeren-A team"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},!0===this.state.isLoading?r.a.createElement("p",null,"no data to display "):r.a.createElement(H,{players:this.state.playerData}))))}}]),a}(n.Component),K=(a(57),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={playerData:[],amountDaltonsEarned:0,isLoading:!0,error:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;O.getPlayerById(t).then((function(t){e.setState({playerData:t[0]})})),O.getAmountDaltonsPlayer(t).then((function(t){console.log(t);var a=t[0]?t[0].daltons_earned:0;e.setState({amountDaltonsEarned:a,isLoading:!1})}))}},{key:"render",value:function(e){return r.a.createElement("div",{className:"card container"},r.a.createElement("div",{className:"card-body player"},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"}),r.a.createElement("h3",{className:"card-title"},this.state.playerData.nickname||"Nickname"),"       ",r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},this.state.playerData.name||"Name")),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(J,{ratingSingles:this.state.playerData.single_rating,ratingDoubles:this.state.playerData.doubles_rating,ratingSinglesEndingYear:this.state.playerData.single_rating_ending_year,ratingDoublesEndingYear:this.state.playerData.doubles_rating_ending_year})),r.a.createElement("li",{className:"list-group-item"},"Daltons verdient: ",this.state.amountDaltonsEarned||0),r.a.createElement("li",{className:"list-group-item"},"Daltons uitgedeeld: ",this.state.playerData.amountDaltonsEarned||0," "),r.a.createElement("li",{className:"list-group-item"},"id: ",this.state.playerData.id," ")))}}]),a}(n.Component));var q=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(i.a,{exact:!0,path:"/",component:m}),r.a.createElement(i.a,{path:"/team",component:R}),r.a.createElement(i.a,{exact:!0,path:"/daltons",component:V}),r.a.createElement(i.a,{path:"/players/:id",component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(61);o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0af58aee.chunk.js.map