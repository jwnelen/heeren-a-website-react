(this["webpackJsonpheeren-a"]=this["webpackJsonpheeren-a"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),s=(a(71),a(2)),c=a(3),i=a(7),u=a(5),m=a(4),d=(a(72),a(62)),p=a(8),h=a(9),f=a.n(h),g=a(16);function v(){return(v=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players/compressed").then((function(e){return e.json()})).then((function(e){for(var t={},a=0;a<e.length;a++)t[e[a].player_id]=e[a].nickname;return t})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/daltons").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",fetch("/api/daltons/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 4:return(a=new Error).info={type:"Error",message:"Could not edit Dalton: "},e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(g.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton in api function: "+JSON.stringify(t)),e.next=3,fetch("/api/daltons",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a;case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:return(r=new Error).info={type:"Error",message:"Could not add Dalton: "+JSON.stringify(t)},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(g.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton deletion of "+JSON.stringify(t)),e.next=3,fetch("/api/daltons/"+t.dalton_id,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return a=e.sent,e.next=6,a;case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:return(r=new Error).info={type:"Error",message:"Could not delete Dalton: "+JSON.stringify(t)},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(g.a)(f.a.mark((function e(t){var a,n,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton in api function: "+JSON.stringify(t)),a=t.dalton_id,delete t.dalton_id,console.log("id in api: "+a),e.next=6,fetch("/api/daltons/"+a,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 6:return n=e.sent,e.next=9,n;case 9:if(r=e.sent,!n.ok){e.next=14;break}return e.abrupt("return",r);case 14:return(l=new Error).info={type:"Error",message:"Could not update Dalton: "+JSON.stringify(t)},e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/daltons/daltonsTook/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/posts").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={getPlayers:function(){return v.apply(this,arguments)},getPlayerById:function(e){return b.apply(this,arguments)},getDaltons:function(){return y.apply(this,arguments)},getPlayersIdAndName:function(){return E.apply(this,arguments)},getDaltonsTookByPlayerId:function(e){return j.apply(this,arguments)},addDalton:function(e){return k.apply(this,arguments)},deleteDalton:function(e){return O.apply(this,arguments)},updateDalton:function(e){return w.apply(this,arguments)},getDaltonById:function(e){return N.apply(this,arguments)},getPosts:function(){return C.apply(this,arguments)}},S=(a(74),a(19)),_=a.n(S),x=(a(35),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props,a=t.post,n=t.index;return r.a.createElement("div",{className:"m-3 no-border container-blog-post row",key:n},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("h4",{className:""},a.title),r.a.createElement("hr",null),r.a.createElement("h6",{className:" mb-2 text-muted"},_()(a.date).format("dddd DD MMMM YYYY")),r.a.createElement("hr",null),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},a.body)))}}]),a}(n.Component)),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={posts:[],isLoading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.getPosts().then((function(t){e.setState({posts:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(x,{post:e,index:t}),r.a.createElement("hr",null))}));return t?r.a.createElement("div",{className:"typewriter"},r.a.createElement("h1",{className:"App-header"},"Welcome")):r.a.createElement("div",null,r.a.createElement("div",{className:"front-image-container"},r.a.createElement("img",{src:"/background.jpg",className:"p-4",alt:"background"}),r.a.createElement("h1",null,"Heeren A ")),r.a.createElement("div",{className:"container"},a))}}]),a}(n.Component),U=(a(76),a(65)),L=a(31),P=a.n(L),T=new(function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return P.a.post("api/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return P.a.post("api/auth/signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.props.onSelectCurrentDalton(n.props.dalton)},n.handleClick=n.handleClick.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props,a=t.dalton,n=t.index,l=t.players,o=t.loggedIn;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,l[a.person_earned_id]?l[a.person_earned_id]:"-"),r.a.createElement("td",null,a.reason),r.a.createElement("td",null,l[a.person_took_id]),r.a.createElement("td",null,a.date_earned?_()(a.date_earned).format("dddd DD MMMM YYYY"):""),r.a.createElement("td",null,a.date_taken?_()(a.date_taken).format("dddd DD MMMM YYYY"):""),o&&r.a.createElement("td",null,r.a.createElement(U.a,{variant:"transparent",className:"p-0",id:a.dalton_id,onClick:this.handleClick},r.a.createElement("svg",{width:"1.2em",height:"1.2em",viewBox:"0 0 16 16",className:"bi bi-pencil-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})))))}}]),a}(n.Component),R=(a(94),a(58)),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentUser:T.getCurrentUser()},n}return Object(c.a)(a,[{key:"renderRows",value:function(){var e=this,t=this.props,a=t.daltons,n=t.players,l=[];return a.forEach((function(t,a){l.push(r.a.createElement(B,{onSelectCurrentDalton:e.props.onSelectDalton,players:n,key:a,index:a,loggedIn:!!e.state.currentUser,dalton:t}," "))})),l}},{key:"render",value:function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(R.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Verdiend"),r.a.createElement("th",null,"Reden"),r.a.createElement("th",null,"Genomen door"),r.a.createElement("th",null,"Datum verdient"),r.a.createElement("th",null,"Datum genomen"),this.state.currentUser&&r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,this.renderRows())))}}]),a}(n.Component),A=a(59),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initialState={dalton_id:-1,reason:"",person_took_id:"0"},e.currentDalton.dalton_id?n.state=e.currentDalton:n.state=n.initialState,n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.handleDeleteButton=n.handleDeleteButton.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(A.a)({},t,a))}},{key:"handleDeleteButton",value:function(e){e.preventDefault(),this.props.onSubmit(e,this.state,!0)}},{key:"render",value:function(e){var t,a=this,n=this.props,l=n.onSubmit,o=n.players,s=Object.keys(o).map((function(e){return r.a.createElement("option",{key:e,value:e},o[e])}));return t=-1===this.state.dalton_id?r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Add Dalton!")):r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Confirm")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"form-control btn btn-danger",type:"button",onClick:this.handleDeleteButton},"Delete Dalton"))),r.a.createElement("form",{onSubmit:function(e){return l(e,a.state)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"reason"},"Reden"),r.a.createElement("input",{className:"form-control",id:"reason",name:"reason",value:this.state.reason,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"playerTook"},"Genomen door"),r.a.createElement("select",{className:"form-control",id:"playerTook",name:"person_took_id",value:this.state.person_took_id,onChange:this.handleChange},r.a.createElement("option",{value:0},"Choose..."),s)),t)}}]),a}(n.Component),J=a(60),F=a.n(J),W=(a(97),function(e){var t=e.onClickOutside,a=e.onKeyDown,n=e.modalRef,l=e.buttonRef,s=e.closeModal,c=e.onSubmit,i=e.players,u=e.currentDalton;return o.a.createPortal(r.a.createElement(F.a,null,r.a.createElement("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:a},r.a.createElement("div",{className:"modal-area",ref:n},r.a.createElement("button",{ref:l,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:s},r.a.createElement("span",{id:"close-modal",className:"_hide-visual"},"Close"),r.a.createElement("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40"},r.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"}))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(I,{players:i,onSubmit:c,currentDalton:u}))))),document.body)}),K=function(e){e.triggerText;var t=e.buttonRef,a=e.showModal,n=e.enabled;return r.a.createElement("button",{className:"btn mb-4 m-2 btn-lg btn-danger center modal-button",ref:t,onClick:a,disabled:!n},"Add Dalton")},q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({isShown:!0},(function(){n.closeButton.focus()})),n.toggleScrollLock()},n.closeModal=function(){n.setState({isShown:!1}),n.TriggerButton.focus(),n.toggleScrollLock(),n.props.onClearDalton()},n.onKeyDown=function(e){27===e.keyCode&&n.closeModal()},n.onClickOutside=function(e){n.modal&&n.modal.contains(e.target)||n.closeModal()},n.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},n.state={isShown:!1,currentUser:T.getCurrentUser()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onRefParent(this)}},{key:"componentWillUnmount",value:function(){this.props.onRefParent(void 0)}},{key:"render",value:function(){var e=this,t=!!this.state.currentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},enabled:t}),this.state.isShown?r.a.createElement(W,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside,players:this.props.players,currentDalton:this.props.currentDalton}):null)}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDaltonChange=function(e){n.setState({currentDalton:e}),n.child.showModal()},n.getDaltonsData=function(){D.getDaltons().then((function(e){n.setState({daltons:e})}))},n.getPlayersData=function(){D.getPlayersIdAndName().then((function(e){n.setState({players:e,isLoading:!1})}))},n.clearDalton=function(){n.setState({currentDalton:{}})},n.onSubmit=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(e);var r=Object(i.a)(n);a?D.deleteDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is deleted!")):window.alert("Could not delete dalton")})):null===t.dalton_id||-1===t.dalton_id?(delete t.dalton_id,D.addDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is added!")):window.alert("Could not add dalton")}))):D.updateDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is updated!")):window.alert("Could not update dalton")}))},n.state={daltons:[],players:[],currentDalton:{},isLoading:!0,errors:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getDaltonsData(),this.getPlayersData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.daltons,l=t.players,o=t.currentDalton;return a?r.a.createElement("h3",{className:"mt-4"},"loading..."):r.a.createElement("div",null,r.a.createElement("h1",null,"Daltons"),r.a.createElement(q,{players:l,currentDalton:o,onRefParent:function(t){return e.child=t},onSubmit:this.onSubmit,onClearDalton:this.clearDalton}),r.a.createElement(Y,{daltons:n,players:l,onSelectDalton:this.handleDaltonChange}))}}]),a}(n.Component),z=(a(98),a(99),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"rating border"},this.props.ratingSinglesEndingYear||6,r.a.createElement("span",{className:"current-rating"},this.props.ratingSingles||"0.0000"," ")),r.a.createElement("div",{className:"rating border"},this.props.ratingDoublesEndingYear||6,r.a.createElement("span",{className:"current-rating justify-content-center"},this.props.ratingDoubles||"0.0000"," ")))}}]),a}(n.Component)),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"card player"},r.a.createElement("a",{href:"/players/"+this.props.player.player_id},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{href:"/players/"+this.props.player.player_id},r.a.createElement("h3",{className:"card-title"},this.props.player.nickname||"Nickname")," "),r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},this.props.player.name||"Name"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(z,{ratingSingles:this.props.player.singles_rating,ratingDoubles:this.props.player.doubles_rating,ratingSinglesEndingYear:this.props.player.singles_rating_ending_year,ratingDoublesEndingYear:this.props.player.doubles_rating_ending_year})))))}}]),a}(n.Component);a(100);function Q(e){return e.players.map((function(e,t){return r.a.createElement(G,{className:"col-6",player:e,key:t})}))}var V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props.players;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(Q,{players:t}))))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={playerData:[],isLoading:!0,errors:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.getPlayers().then((function(t){t?e.setState({playerData:t,isLoading:!1}):console.log("data is undefined")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.playerData;return t?r.a.createElement("h3",{className:"mt-4"},"loading..."):r.a.createElement("div",null,r.a.createElement("h1",null,"Team Heeren-A"),r.a.createElement(V,{players:a}))}}]),a}(n.Component),X=(a(101),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleNavCollapse=function(){n.setState((function(e){return{isNavCollapsed:!e.isNavCollapsed}}))},n.handleNavCollapse=n.handleNavCollapse.bind(Object(i.a)(n)),n.state={currentUser:T.getCurrentUser(),isNavCollapsed:!0},n}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.state,a=t.isNavCollapsed,n=t.currentUser,l=n&&n.username;return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Heeren A Tenniphil"),r.a.createElement("button",{className:"custom-toggler navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":!a,"aria-label":"Toggle navigation",onClick:this.handleNavCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"".concat(a?"collapse":""," navbar-collapse"),id:"navbarsExample09"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/team"},"Team")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/daltons"},"Daltons"))),l&&r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("span",{className:"navbar-text"},n.username),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/",onClick:this.props.logOut},"logout"))),!l&&r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"Login")))))}}]),a}(n.Component)),Z=a(64),ee=(a(102),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={player:{},posts:[],isLoading:!0,error:null,currentUser:T.getCurrentUser()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;D.getPlayerById(t).then((function(a){D.getPosts().then((function(n){return D.getDaltonsTookByPlayerId(t).then((function(t){a[0].amountDaltonsTook=parseInt(t.count),e.setState({posts:n,player:a[0],isLoading:!1})}))}))}))}},{key:"render",value:function(e){var t,a=this.state,n=a.player,l=a.isLoading,o=a.posts,s=(a.currentUser,[]);return l||(o.forEach((function(e){e.body.split(/[.\n]/).forEach((function(t){(t.includes(n.nickname)||t.includes(n.name.split(" ")[0]))&&s.push([t.trim(),e.title])}))})),t=s.map((function(e,t){var a=Object(Z.a)(e,2),n=a[0],l=a[1];return r.a.createElement("li",{className:"list-group-item font-italic",key:t},'"',n,". - ",r.a.createElement("b",null,l),'"')}))),l?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",{className:"card container"},r.a.createElement("div",{className:"card-body player"},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"}),r.a.createElement("h3",{className:"card-title"},n.nickname||"Nickname"),r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},n.name||"Name")),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(z,{ratingSingles:n.singles_rating,ratingDoubles:n.doubles_rating,ratingSinglesEndingYear:n.singles_rating_ending_year,ratingDoublesEndingYear:n.doubles_rating_ending_year})),r.a.createElement("li",{className:"list-group-item"},"id: ",n.player_id," "),r.a.createElement("li",{className:"list-group-item"},"Aantal daltons genomen: ",n.amountDaltonsTook," "))),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h3",null,"Quotes"),r.a.createElement("ul",{className:"list-group list-group-flush "},t)))}}]),a}(n.Component)),te=a(25),ae=a.n(te),ne=a(18),re=a.n(ne),le=a(26),oe=a.n(le),se=a(61),ce=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},ie=function(e){if(!Object(se.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},ue=function(e){if(e.length<3||e.length>20)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The username must be between 3 and 20 characters.")},me=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleRegister=n.handleRegister.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",email:"",password:"",successful:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&T.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(ae.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(re.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[ce,ue]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(re.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[ce,ie]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(re.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[ce,me]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block"},"Sign Up"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(oe.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),pe=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?T.login(this.state.username,this.state.password).then((function(){t.props.history.push("/"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(ae.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(re.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[pe]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(re.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[pe]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(oe.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(i.a)(n)),n.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=T.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){console.log("logout"),T.logout(),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(X,{logOut:this.logOut}),r.a.createElement(p.a,{exact:!0,path:"/",component:M}),r.a.createElement(p.a,{path:"/team",component:$}),r.a.createElement(p.a,{path:"/register",component:de}),r.a.createElement(p.a,{path:"/login",component:he}),r.a.createElement(p.a,{exact:!0,path:"/daltons",component:H}),r.a.createElement(p.a,{path:"/players/:id",component:ee})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(184);o.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a(185)},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},94:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.dda4b392.chunk.js.map