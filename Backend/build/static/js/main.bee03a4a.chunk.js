(this["webpackJsonpheeren-a"]=this["webpackJsonpheeren-a"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),s=(a(73),a(2)),c=a(3),i=a(7),u=a(5),m=a(4),d=(a(74),a(64)),p=a(9),h=a(8),f=a.n(h),g=a(15),v=a(23),b=a.n(v);function y(){return(y=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/players/compressed").then((function(e){return e.json()})).then((function(e){for(var t={},a=0;a<e.length;a++)t[e[a].player_id]=e[a].nickname;return t})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(g.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.player_id,e.abrupt("return",b.a.put("/api/players/"+t,a).then((function(e){return console.log(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/daltons").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",fetch("/api/daltons/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 4:return(a=new Error).info={type:"Error",message:"Could not edit Dalton: "},e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(g.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton in api function: "+JSON.stringify(t)),e.next=3,fetch("/api/daltons",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a;case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:return(r=new Error).info={type:"Error",message:"Could not add Dalton: "+JSON.stringify(t)},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(g.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton deletion of "+JSON.stringify(t)),e.next=3,fetch("/api/daltons/"+t.dalton_id,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return a=e.sent,e.next=6,a;case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:return(r=new Error).info={type:"Error",message:"Could not delete Dalton: "+JSON.stringify(t)},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(g.a)(f.a.mark((function e(t){var a,n,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("dalton in api function: "+JSON.stringify(t)),a=t.dalton_id,delete t.dalton_id,console.log("id in api: "+a),e.next=6,fetch("/api/daltons/"+a,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 6:return n=e.sent,e.next=9,n;case 9:if(r=e.sent,!n.ok){e.next=14;break}return e.abrupt("return",r);case 14:return(l=new Error).info={type:"Error",message:"Could not update Dalton: "+JSON.stringify(t)},e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/daltons/daltonsTook/"+t).then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/posts").then((function(e){return e.json()})).catch((function(e){return console.log("error in api",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={getPlayers:function(){return y.apply(this,arguments)},getPlayerById:function(e){return E.apply(this,arguments)},getDaltons:function(){return k.apply(this,arguments)},getPlayersIdAndName:function(){return N.apply(this,arguments)},getDaltonsTookByPlayerId:function(e){return _.apply(this,arguments)},updatePlayer:function(e,t){return O.apply(this,arguments)},addDalton:function(e){return C.apply(this,arguments)},deleteDalton:function(e){return w.apply(this,arguments)},updateDalton:function(e){return D.apply(this,arguments)},getDaltonById:function(e){return j.apply(this,arguments)},getPosts:function(){return S.apply(this,arguments)}},P=(a(93),a(19)),M=a.n(P),U=(a(45),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props,a=t.post,n=t.index;return r.a.createElement("div",{className:"m-3 no-border container-blog-post row",key:n},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("h4",{className:""},a.title),r.a.createElement("hr",null),r.a.createElement("h6",{className:" mb-2 text-muted"},M()(a.date).format("dddd DD MMMM YYYY")),r.a.createElement("hr",null),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},a.body)))}}]),a}(n.Component)),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={posts:[],isLoading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.getPosts().then((function(t){t&&e.setState({posts:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.posts,n=a?a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(U,{post:e,index:t}),r.a.createElement("hr",null))})):null;return t?r.a.createElement("h3",{className:"mt-4"},"loading..."):r.a.createElement("div",null,r.a.createElement("div",{className:"front-image-container"},r.a.createElement("img",{src:"/background.jpg",className:"p-4",alt:"background"}),r.a.createElement("h1",null,"Heeren A ")),r.a.createElement("div",{className:"container"},n))}}]),a}(n.Component),L=(a(95),a(67)),R=new(function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return b.a.post("api/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return b.a.post("api/auth/signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.props.onSelectCurrentDalton(n.props.dalton)},n.handleClick=n.handleClick.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props,a=t.dalton,n=t.index,l=t.players,o=t.loggedIn;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,l[a.person_earned_id]?l[a.person_earned_id]:"-"),r.a.createElement("td",null,a.reason),r.a.createElement("td",null,l[a.person_took_id]),r.a.createElement("td",null,a.date_earned?M()(a.date_earned).format("dddd DD MMMM YYYY"):""),r.a.createElement("td",null,a.date_taken?M()(a.date_taken).format("dddd DD MMMM YYYY"):""),o&&r.a.createElement("td",null,r.a.createElement(L.a,{variant:"transparent",className:"p-0",id:a.dalton_id,onClick:this.handleClick},r.a.createElement("svg",{width:"1.2em",height:"1.2em",viewBox:"0 0 16 16",className:"bi bi-pencil-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})))))}}]),a}(n.Component),Y=(a(96),a(61)),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentUser:R.getCurrentUser()},n}return Object(c.a)(a,[{key:"renderRows",value:function(){var e=this,t=this.props,a=t.daltons,n=t.players,l=[];return a.forEach((function(t,a){l.push(r.a.createElement(T,{onSelectCurrentDalton:e.props.onSelectDalton,players:n,key:a,index:a,loggedIn:!!e.state.currentUser,dalton:t}," "))})),l}},{key:"render",value:function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(Y.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Verdiend"),r.a.createElement("th",null,"Reden"),r.a.createElement("th",null,"Genomen door"),r.a.createElement("th",null,"Datum verdient"),r.a.createElement("th",null,"Datum genomen"),this.state.currentUser&&r.a.createElement("th",null,"Edit"))),r.a.createElement("tbody",null,this.renderRows())))}}]),a}(n.Component),F=a(20),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initialState={dalton_id:-1,reason:"",person_took_id:"0"},e.currentDalton.dalton_id?n.state=e.currentDalton:n.state=n.initialState,n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.handleDeleteButton=n.handleDeleteButton.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(F.a)({},t,a))}},{key:"handleDeleteButton",value:function(e){e.preventDefault(),this.props.onSubmit(e,this.state,!0)}},{key:"render",value:function(e){var t,a=this,n=this.props,l=n.onSubmit,o=n.players,s=Object.keys(o).map((function(e){return r.a.createElement("option",{key:e,value:e},o[e])}));return t=-1===this.state.dalton_id?r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Add Dalton!")):r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Confirm")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"form-control btn btn-danger",type:"button",onClick:this.handleDeleteButton},"Delete Dalton"))),r.a.createElement("form",{onSubmit:function(e){return l(e,a.state)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"reason"},"Reden"),r.a.createElement("input",{className:"form-control",id:"reason",name:"reason",value:this.state.reason,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"playerTook"},"Genomen door"),r.a.createElement("select",{className:"form-control",id:"playerTook",name:"person_took_id",value:this.state.person_took_id,onChange:this.handleChange},r.a.createElement("option",{value:0},"Choose..."),s)),t)}}]),a}(n.Component),J=a(62),K=a.n(J),W=(a(99),function(e){var t=e.onClickOutside,a=e.onKeyDown,n=e.modalRef,l=e.buttonRef,s=e.closeModal,c=e.onSubmit,i=e.players,u=e.currentDalton;return o.a.createPortal(r.a.createElement(K.a,null,r.a.createElement("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:a},r.a.createElement("div",{className:"modal-area",ref:n},r.a.createElement("button",{ref:l,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:s},r.a.createElement("span",{id:"close-modal",className:"_hide-visual"},"Close"),r.a.createElement("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40"},r.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"}))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(A,{players:i,onSubmit:c,currentDalton:u}))))),document.body)}),q=function(e){e.triggerText;var t=e.buttonRef,a=e.showModal,n=e.enabled;return r.a.createElement("button",{className:"btn mb-4 m-2 btn-lg btn-danger center modal-button",ref:t,onClick:a,disabled:!n},"Add Dalton")},H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({isShown:!0},(function(){n.closeButton.focus()})),n.toggleScrollLock()},n.closeModal=function(){n.setState({isShown:!1}),n.TriggerButton.focus(),n.toggleScrollLock(),n.props.onClearDalton()},n.onKeyDown=function(e){27===e.keyCode&&n.closeModal()},n.onClickOutside=function(e){n.modal&&n.modal.contains(e.target)||n.closeModal()},n.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},n.state={isShown:!1,currentUser:R.getCurrentUser()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.onRefParent(this)}},{key:"componentWillUnmount",value:function(){this.props.onRefParent(void 0)}},{key:"render",value:function(){var e=this,t=!!this.state.currentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},enabled:t}),this.state.isShown?r.a.createElement(W,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside,players:this.props.players,currentDalton:this.props.currentDalton}):null)}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDaltonChange=function(e){n.setState({currentDalton:e}),n.child.showModal()},n.getDaltonsData=function(){x.getDaltons().then((function(e){n.setState({daltons:e})}))},n.getPlayersData=function(){x.getPlayersIdAndName().then((function(e){n.setState({players:e,isLoading:!1})}))},n.clearDalton=function(){n.setState({currentDalton:{}})},n.onSubmit=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(e);var r=Object(i.a)(n);a?x.deleteDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is deleted!")):window.alert("Could not delete dalton")})):null===t.dalton_id||-1===t.dalton_id?(delete t.dalton_id,x.addDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is added!")):window.alert("Could not add dalton")}))):x.updateDalton(t).then((function(e){200===e.status?(r.child.closeModal(),r.getDaltonsData(),window.alert("Dalton is updated!")):window.alert("Could not update dalton")}))},n.state={daltons:[],players:[],currentDalton:{},isLoading:!0,errors:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getDaltonsData(),this.getPlayersData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.daltons,l=t.players,o=t.currentDalton;return a?r.a.createElement("h3",{className:"mt-4"},"loading..."):r.a.createElement("div",null,r.a.createElement("h1",null,"Daltons"),r.a.createElement(H,{players:l,currentDalton:o,onRefParent:function(t){return e.child=t},onSubmit:this.onSubmit,onClearDalton:this.clearDalton}),r.a.createElement(I,{daltons:n,players:l,onSelectDalton:this.handleDaltonChange}))}}]),a}(n.Component),G=(a(100),a(101),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"rating border"},this.props.ratingSinglesEndingYear||6,r.a.createElement("span",{className:"current-rating"},this.props.ratingSingles||"0.0000"," ")),r.a.createElement("div",{className:"rating border"},this.props.ratingDoublesEndingYear||6,r.a.createElement("span",{className:"current-rating justify-content-center"},this.props.ratingDoubles||"0.0000"," ")))}}]),a}(n.Component)),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"card player"},r.a.createElement("a",{href:"/players/"+this.props.player.player_id},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{href:"/players/"+this.props.player.player_id},r.a.createElement("h3",{className:"card-title"},this.props.player.nickname||"Nickname")," "),r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},this.props.player.name||"Name"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(G,{ratingSingles:this.props.player.singles_rating,ratingDoubles:this.props.player.doubles_rating,ratingSinglesEndingYear:this.props.player.singles_rating_ending_year,ratingDoublesEndingYear:this.props.player.doubles_rating_ending_year})))))}}]),a}(n.Component);a(102);function V(e){return e.players.map((function(e,t){return r.a.createElement(Q,{className:"col-6",player:e,key:t})}))}var $=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.props.players;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(V,{players:t}))))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={playerData:[],isLoading:!0,errors:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.getPlayers().then((function(t){t?e.setState({playerData:t,isLoading:!1}):console.log("data is undefined")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.playerData;return t?r.a.createElement("h3",{className:"mt-4"},"loading..."):r.a.createElement("div",null,r.a.createElement("h1",null,"Team Heeren-A"),r.a.createElement($,{players:a}))}}]),a}(n.Component),Z=a(25),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);var r={};return e.player.player_id&&(r=e.player),n.state={readOnly:!0,player:r},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.handleSaveButton=n.handleSaveButton.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{player:Object(Z.a)(Object(Z.a)({},e.player),{},Object(F.a)({},t,a))})}))}},{key:"handleSaveButton",value:function(e){e.preventDefault(),this.setState((function(e){return{readOnly:!e.readOnly}})),this.state.readOnly||this.props.saveProfile(this.state.player)}},{key:"render",value:function(e){var t=this.state,a=t.player,n=t.readOnly;return r.a.createElement("form",{className:""},r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"name"},"Name"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-4",id:"name",name:"name",value:a.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"nickname"},"Nickname"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-4",id:"nickname",name:"nickname",value:a.nickname,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"singles_rating"},"Rating Single"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-1",id:"singles_rating",name:"singles_rating",value:a.singles_rating,onChange:this.handleChange}),r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"singles_rating_ending_year"},"Rating Single Final"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-1",id:"singles_rating_ending_year",name:"singles_rating_ending_year",value:a.singles_rating_ending_year,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"doubles_rating"},"Rating Doubles"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-1",id:"doubles_rating",name:"doubles_rating",value:a.doubles_rating,onChange:this.handleChange}),r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"doubles_rating_ending_year"},"Rating Doubles Final"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-1",id:"doubles_rating_ending_year",name:"doubles_rating_ending_year",value:a.doubles_rating_ending_year,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("button",{className:"form-control col-sm-2 btn btn-primary",type:"button",onClick:this.handleSaveButton},n?"Edit":"Save")))}}]),a}(n.Component),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);var r={};return e.user&&(r=e.user),n.state={readOnly:!0,user:r},n}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.state,a=t.user,n=t.readOnly;return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"name"},"Username"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-4",id:"name",name:"name",value:a.username})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"nickname"},"Email"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-4",id:"nickname",name:"nickname",value:a.email})),r.a.createElement("div",{className:"form-group row justify-content-center"},r.a.createElement("label",{className:"text-left col-sm-2 col-form-label",htmlFor:"singles_rating"},"Player id"),r.a.createElement("input",{readOnly:n,className:"form-control col-sm-1",id:"singles_rating",name:"singles_rating",value:a.user_player_id?a.user_player_id:"-"}),r.a.createElement("div",{className:"col-sm-3"})))}}]),a}(n.Component),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={player:{},isLoading:!0,error:null,currentUser:R.getCurrentUser()},n.handleSaveButton=n.handleSaveButton.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.currentUser;t&&t.user_player_id?x.getPlayerById(t.user_player_id).then((function(t){e.setState({player:t[0],isLoading:!1})})):this.setState({isLoading:!1})}},{key:"handleSaveButton",value:function(e){x.updatePlayer(this.state.currentUser.user_player_id,e)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.currentUser,n=e.player;return t?r.a.createElement("h3",{className:"mt-4"},"loading... "):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mb-3"},"User Profile "),r.a.createElement(te,{user:a,saveProfile:this.handleSaveButton}),r.a.createElement("h2",{className:"mb-3"},"Player Profile"),n.player_id&&r.a.createElement(ee,{player:n,saveProfile:this.handleSaveButton}),!n.player_id&&r.a.createElement("p",null,"This user is not connected to a player. Please request access to edit your player."))}}]),a}(n.Component),ne=(a(103),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleNavCollapse=function(){n.setState((function(e){return{isNavCollapsed:!e.isNavCollapsed}}))},n.handleNavCollapse=n.handleNavCollapse.bind(Object(i.a)(n)),n.state={currentUser:R.getCurrentUser(),isNavCollapsed:!0},n}return Object(c.a)(a,[{key:"render",value:function(e){var t=this.state,a=t.isNavCollapsed,n=t.currentUser,l=n&&n.username;return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand mb-0 h1",href:"/"},"Heeren A Tenniphil"),r.a.createElement("button",{className:"custom-toggler navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":!a,"aria-label":"Toggle navigation",onClick:this.handleNavCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"".concat(a?"collapse":""," navbar-collapse"),id:"navbarsExample09"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/team"},"Team")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/daltons"},"Daltons"))),l&&r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("span",{className:"navbar-item"},r.a.createElement("a",{className:"nav-link",href:"/userProfile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/",onClick:this.props.logOut},"logout"))),!l&&r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/register"},"Register")))))}}]),a}(n.Component)),re=a(66),le=(a(104),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={player:{},posts:[],isLoading:!0,error:null,currentUser:R.getCurrentUser()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;x.getPlayerById(t).then((function(a){x.getPosts().then((function(n){return x.getDaltonsTookByPlayerId(t).then((function(t){a[0].amountDaltonsTook=parseInt(t.count),e.setState({posts:n,player:a[0],isLoading:!1})}))}))}))}},{key:"render",value:function(e){var t,a=this.state,n=a.player,l=a.isLoading,o=a.posts,s=(a.currentUser,[]);return l||(o.forEach((function(e){e.body.split(/[.\n]/).forEach((function(t){(t.includes(n.nickname)||t.includes(n.name.split(" ")[0]))&&s.push([t.trim(),e.title])}))})),t=s.map((function(e,t){var a=Object(re.a)(e,2),n=a[0],l=a[1];return r.a.createElement("li",{className:"list-group-item font-italic",key:t},'"',n,". - ",r.a.createElement("b",null,l),'"')}))),l?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",{className:"card container"},r.a.createElement("div",{className:"card-body player"},r.a.createElement("img",{className:"card-img-top",src:"https://images2.persgroep.net/rcs/SkRGKcrJ4sDaW0oWOoBQKgW9lYA/diocontent/169326362/_fitwidth/694/?appId=21791a8992982cd8da851550a453bd7f&quality=0.8",alt:"player"}),r.a.createElement("h3",{className:"card-title"},n.nickname||"Nickname"),r.a.createElement("p",{className:"card-text text-secondary mb-1 font-italic font-light"},n.name||"Name")),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(G,{ratingSingles:n.singles_rating,ratingDoubles:n.doubles_rating,ratingSinglesEndingYear:n.singles_rating_ending_year,ratingDoublesEndingYear:n.doubles_rating_ending_year})),r.a.createElement("li",{className:"list-group-item"},"id: ",n.player_id," "),r.a.createElement("li",{className:"list-group-item"},"Aantal daltons genomen: ",n.amountDaltonsTook," "))),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h3",null,"Quotes"),r.a.createElement("ul",{className:"list-group list-group-flush "},t)))}}]),a}(n.Component)),oe=a(28),se=a.n(oe),ce=a(18),ie=a.n(ce),ue=a(29),me=a.n(ue),de=a(63),pe=(a(47),function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")}),he=function(e){if(!Object(de.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},fe=function(e){if(e.length<3||e.length>20)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The username must be between 3 and 20 characters.")},ge=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleRegister=n.handleRegister.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",email:"",password:"",successful:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&R.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"card card-login-form card-block"},r.a.createElement("div",{className:"card-body card-body-form form-login form"},r.a.createElement("div",{className:"card-title mb-3"},r.a.createElement("h4",null,"Register")),r.a.createElement(se.a,{className:"justify-content-center",onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"text",className:"form-control",name:"username",placeholder:"Username",value:this.state.username,onChange:this.onChangeUsername,validations:[pe,fe]})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"text",className:"form-control",name:"email",placeholder:"Email",value:this.state.email,onChange:this.onChangeEmail,validations:[pe,he]})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword,validations:[pe,ge]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-info btn-block"},"Register"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(me.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))))}}]),a}(n.Component),be=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(i.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(i.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(i.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?R.login(this.state.username,this.state.password).then((function(){t.props.history.push("/"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"card card-login-form card-block"},r.a.createElement("div",{className:"card-body card-body-form form-login form"},r.a.createElement("div",{className:"card-title mb-3"},r.a.createElement("h4",null,"Login")),r.a.createElement(se.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"text",className:"form-control",name:"username",placeholder:"Username",value:this.state.username,onChange:this.onChangeUsername,validations:[be]})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"password",className:"form-control",placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[be]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-info btn-block",disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(me.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))))}}]),a}(n.Component),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(i.a)(n)),n.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=R.getCurrentUser();e&&this.setState({currentUser:e})}},{key:"logOut",value:function(){console.log("logout"),R.logout(),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ne,{logOut:this.logOut}),r.a.createElement(p.a,{exact:!0,path:"/",component:B}),r.a.createElement(p.a,{path:"/team",component:X}),r.a.createElement(p.a,{path:"/register",component:ve}),r.a.createElement(p.a,{path:"/login",component:ye}),r.a.createElement(p.a,{exact:!0,path:"/daltons",component:z}),r.a.createElement(p.a,{path:"/players/:id",component:le}),r.a.createElement(p.a,{path:"/userProfile",component:ae})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(186),a(187);o.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){},68:function(e,t,a){e.exports=a(188)},73:function(e,t,a){},74:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},99:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.bee03a4a.chunk.js.map